2025-04-23T07:25:38.468Z info: Checking database structure...
2025-04-23T07:25:40.529Z info: Database synchronized successfully.
2025-04-23T07:25:40.556Z info: Roles already exist, skipping seed.
2025-04-23T07:25:40.572Z info: Users already exist, skipping admin user creation.
2025-04-23T07:25:40.583Z info: Seats already exist, skipping seat creation.
2025-04-23T07:25:40.599Z info: All users have valid auto-booking preferences
2025-04-23T07:25:40.600Z info: Database initialization completed successfully.
2025-04-23T07:25:40.614Z info: Scheduler initialized successfully
2025-04-23T07:25:40.625Z info: Server is running on port 8080
2025-04-23T07:25:50.627Z info: Running initial auto-booking process at startup
2025-04-23T07:25:50.632Z info: Starting auto-booking process for all users
2025-04-23T07:25:50.670Z info: Found 1 admin users to exclude from auto-booking
2025-04-23T07:25:50.693Z info: Found 3 active users to process
2025-04-23T07:25:50.695Z info: Processing user 2 (amith.a)
2025-04-23T07:25:50.696Z info: User preferences - defaultWorkDays: [1,2,3], requiredDaysPerWeek: 3
2025-04-23T07:25:50.698Z info: Checking existing bookings for user 2 from 2025-05-05 to 2025-05-21
2025-04-23T07:25:50.731Z info: User 2 already has 6 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:25:50.732Z info: User 2 has existing booking on 2025-05-05
2025-04-23T07:25:50.732Z info: User 2 has existing booking on 2025-05-06
2025-04-23T07:25:50.733Z info: User 2 has existing booking on 2025-05-07
2025-04-23T07:25:50.733Z info: User 2 has existing booking on 2025-05-12
2025-04-23T07:25:50.733Z info: User 2 has existing booking on 2025-05-13
2025-04-23T07:25:50.734Z info: User 2 has existing booking on 2025-05-14
2025-04-23T07:25:50.734Z info: Processing user 3 (sreeram.s)
2025-04-23T07:25:50.734Z info: User preferences - defaultWorkDays: [1,2,3,4,5], requiredDaysPerWeek: 2
2025-04-23T07:25:50.735Z info: Checking existing bookings for user 3 from 2025-05-05 to 2025-05-21
2025-04-23T07:25:50.739Z info: User 3 already has 4 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:25:50.739Z info: User 3 has existing booking on 2025-05-05
2025-04-23T07:25:50.739Z info: User 3 has existing booking on 2025-05-06
2025-04-23T07:25:50.740Z info: User 3 has existing booking on 2025-05-12
2025-04-23T07:25:50.740Z info: User 3 has existing booking on 2025-05-13
2025-04-23T07:25:50.740Z info: Processing user 4 (hemanth.k)
2025-04-23T07:25:50.740Z info: User preferences - defaultWorkDays: [2,1], requiredDaysPerWeek: 2
2025-04-23T07:25:50.741Z info: Checking existing bookings for user 4 from 2025-05-05 to 2025-05-21
2025-04-23T07:25:50.744Z info: User 4 already has 4 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:25:50.745Z info: User 4 has existing booking on 2025-05-05
2025-04-23T07:25:50.745Z info: User 4 has existing booking on 2025-05-06
2025-04-23T07:25:50.745Z info: User 4 has existing booking on 2025-05-12
2025-04-23T07:25:50.746Z info: User 4 has existing booking on 2025-05-13
2025-04-23T07:25:50.746Z info: Auto-booking process complete: 0 users updated, 0 failed, 0 with no/invalid preferences
2025-04-23T07:25:50.746Z info: Initial auto-booking process completed successfully
2025-04-23T07:45:11.323Z info: Checking database structure...
2025-04-23T07:45:12.448Z info: Database synchronized successfully.
2025-04-23T07:45:12.456Z info: Roles already exist, skipping seed.
2025-04-23T07:45:12.459Z info: Users already exist, skipping admin user creation.
2025-04-23T07:45:12.465Z info: Seats already exist, skipping seat creation.
2025-04-23T07:45:12.475Z info: All users have valid auto-booking preferences
2025-04-23T07:45:12.476Z info: Database initialization completed successfully.
2025-04-23T07:45:12.482Z info: Scheduler initialized successfully
2025-04-23T07:45:12.489Z info: Server is running on port 8080
2025-04-23T07:45:22.497Z info: Running initial auto-booking process at startup
2025-04-23T07:45:22.499Z info: Starting auto-booking process for all users
2025-04-23T07:45:22.505Z info: Found 1 admin users to exclude from auto-booking
2025-04-23T07:45:22.509Z info: Found 4 active users to process
2025-04-23T07:45:22.510Z info: Processing user 2 (amith.a)
2025-04-23T07:45:22.510Z info: User preferences - defaultWorkDays: [1,2,3], requiredDaysPerWeek: 3
2025-04-23T07:45:22.510Z info: Checking existing bookings for user 2 from 2025-05-05 to 2025-05-21
2025-04-23T07:45:22.527Z info: User 2 already has 6 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:45:22.528Z info: User 2 has existing booking on 2025-05-05
2025-04-23T07:45:22.528Z info: User 2 has existing booking on 2025-05-06
2025-04-23T07:45:22.528Z info: User 2 has existing booking on 2025-05-07
2025-04-23T07:45:22.528Z info: User 2 has existing booking on 2025-05-12
2025-04-23T07:45:22.529Z info: User 2 has existing booking on 2025-05-13
2025-04-23T07:45:22.529Z info: User 2 has existing booking on 2025-05-14
2025-04-23T07:45:22.529Z info: Processing user 3 (sreeram.s)
2025-04-23T07:45:22.530Z info: User preferences - defaultWorkDays: [1,2,3,4,5], requiredDaysPerWeek: 2
2025-04-23T07:45:22.530Z info: Checking existing bookings for user 3 from 2025-05-05 to 2025-05-21
2025-04-23T07:45:22.534Z info: User 3 already has 4 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:45:22.535Z info: User 3 has existing booking on 2025-05-05
2025-04-23T07:45:22.535Z info: User 3 has existing booking on 2025-05-06
2025-04-23T07:45:22.535Z info: User 3 has existing booking on 2025-05-12
2025-04-23T07:45:22.535Z info: User 3 has existing booking on 2025-05-13
2025-04-23T07:45:22.536Z info: Processing user 4 (hemanth.k)
2025-04-23T07:45:22.536Z info: User preferences - defaultWorkDays: [2,1], requiredDaysPerWeek: 2
2025-04-23T07:45:22.536Z info: Checking existing bookings for user 4 from 2025-05-05 to 2025-05-21
2025-04-23T07:45:22.541Z info: User 4 already has 4 future bookings between 2025-05-05 and 2025-05-21 - skipping
2025-04-23T07:45:22.542Z info: User 4 has existing booking on 2025-05-05
2025-04-23T07:45:22.542Z info: User 4 has existing booking on 2025-05-06
2025-04-23T07:45:22.542Z info: User 4 has existing booking on 2025-05-12
2025-04-23T07:45:22.543Z info: User 4 has existing booking on 2025-05-13
2025-04-23T07:45:22.543Z info: Processing user 5 (anand.vp)
2025-04-23T07:45:22.543Z info: User preferences - defaultWorkDays: [1,5], requiredDaysPerWeek: 2
2025-04-23T07:45:22.544Z info: Checking existing bookings for user 5 from 2025-05-05 to 2025-05-21
2025-04-23T07:45:22.548Z info: Creating auto-bookings for user 5 (anand.vp)
2025-04-23T07:45:22.551Z info: Creating auto bookings for user 5 (anand.vp) with:
2025-04-23T07:45:22.552Z info: - Default work days: [1,5]
2025-04-23T07:45:22.552Z info: - Required days per week: 2
2025-04-23T07:45:22.552Z info: - Days that will be booked: [1,5]
2025-04-23T07:45:22.553Z info: Processing week 1 (offset 0) starting 2025-04-28
2025-04-23T07:45:22.553Z info: Week 1: Attempting to book day 1 (Mon) on 2025-04-28
2025-04-23T07:45:22.556Z info: Looking for available seats on 2025-04-28
2025-04-23T07:45:22.566Z info: Found 7 available seats for date 2025-04-28
2025-04-23T07:45:22.566Z info: Creating auto-booking for user 5, seat 4, date 2025-04-28
2025-04-23T07:45:22.583Z info: Auto-booking created successfully with ID 29
2025-04-23T07:45:22.593Z info: Week 1: Attempting to book day 5 (Fri) on 2025-05-02
2025-04-23T07:45:22.596Z info: Looking for available seats on 2025-05-02
2025-04-23T07:45:22.604Z info: Found 10 available seats for date 2025-05-02
2025-04-23T07:45:22.604Z info: Creating auto-booking for user 5, seat 1, date 2025-05-02
2025-04-23T07:45:22.612Z info: Auto-booking created successfully with ID 30
2025-04-23T07:45:22.621Z info: Processing week 2 (offset 1) starting 2025-05-05
2025-04-23T07:45:22.622Z info: Week 2: Attempting to book day 1 (Mon) on 2025-05-05
2025-04-23T07:45:22.624Z info: Looking for available seats on 2025-05-05
2025-04-23T07:45:22.634Z info: Found 7 available seats for date 2025-05-05
2025-04-23T07:45:22.635Z info: Creating auto-booking for user 5, seat 4, date 2025-05-05
2025-04-23T07:45:22.646Z info: Auto-booking created successfully with ID 31
2025-04-23T07:45:22.692Z info: Week 2: Attempting to book day 5 (Fri) on 2025-05-09
2025-04-23T07:45:22.695Z info: Looking for available seats on 2025-05-09
2025-04-23T07:45:22.704Z info: Found 10 available seats for date 2025-05-09
2025-04-23T07:45:22.704Z info: Creating auto-booking for user 5, seat 1, date 2025-05-09
2025-04-23T07:45:22.714Z info: Auto-booking created successfully with ID 32
2025-04-23T07:45:22.724Z info: Processing week 3 (offset 2) starting 2025-05-12
2025-04-23T07:45:22.724Z info: Week 3: Attempting to book day 1 (Mon) on 2025-05-12
2025-04-23T07:45:22.727Z info: Looking for available seats on 2025-05-12
2025-04-23T07:45:22.750Z info: Found 7 available seats for date 2025-05-12
2025-04-23T07:45:22.751Z info: Creating auto-booking for user 5, seat 4, date 2025-05-12
2025-04-23T07:45:22.761Z info: Auto-booking created successfully with ID 33
2025-04-23T07:45:22.770Z info: Week 3: Attempting to book day 5 (Fri) on 2025-05-16
2025-04-23T07:45:22.773Z info: Looking for available seats on 2025-05-16
2025-04-23T07:45:22.781Z info: Found 10 available seats for date 2025-05-16
2025-04-23T07:45:22.781Z info: Creating auto-booking for user 5, seat 1, date 2025-05-16
2025-04-23T07:45:22.790Z info: Auto-booking created successfully with ID 34
2025-04-23T07:45:22.799Z info: Processing week 4 (offset 3) starting 2025-05-19
2025-04-23T07:45:22.799Z info: Week 4: Attempting to book day 1 (Mon) on 2025-05-19
2025-04-23T07:45:22.802Z info: Looking for available seats on 2025-05-19
2025-04-23T07:45:22.810Z info: Found 10 available seats for date 2025-05-19
2025-04-23T07:45:22.810Z info: Creating auto-booking for user 5, seat 1, date 2025-05-19
2025-04-23T07:45:22.819Z info: Auto-booking created successfully with ID 35
2025-04-23T07:45:22.828Z info: Week 4: Attempting to book day 5 (Fri) on 2025-05-23
2025-04-23T07:45:22.830Z info: Looking for available seats on 2025-05-23
2025-04-23T07:45:22.837Z info: Found 10 available seats for date 2025-05-23
2025-04-23T07:45:22.837Z info: Creating auto-booking for user 5, seat 1, date 2025-05-23
2025-04-23T07:45:22.845Z info: Auto-booking created successfully with ID 36
2025-04-23T07:45:22.854Z info: Auto-booking completed for user 5: 8 bookings created, 0 failed
2025-04-23T07:45:22.854Z info: Created 8 bookings for user 5
2025-04-23T07:45:22.854Z info: Created booking for user 5 on 2025-04-28, seat 4
2025-04-23T07:45:22.855Z info: Created booking for user 5 on 2025-05-02, seat 1
2025-04-23T07:45:22.855Z info: Created booking for user 5 on 2025-05-05, seat 4
2025-04-23T07:45:22.855Z info: Created booking for user 5 on 2025-05-09, seat 1
2025-04-23T07:45:22.856Z info: Created booking for user 5 on 2025-05-12, seat 4
2025-04-23T07:45:22.856Z info: Created booking for user 5 on 2025-05-16, seat 1
2025-04-23T07:45:22.856Z info: Created booking for user 5 on 2025-05-19, seat 1
2025-04-23T07:45:22.857Z info: Created booking for user 5 on 2025-05-23, seat 1
2025-04-23T07:45:22.857Z info: Auto-booking process complete: 1 users updated, 0 failed, 0 with no/invalid preferences
2025-04-23T07:45:22.858Z info: Initial auto-booking process completed successfully
